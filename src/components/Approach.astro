---
import { useTranslations, type Lang } from '../i18n';

interface Props {
  lang?: Lang;
}

const { lang = 'uz' } = Astro.props;
const t = useTranslations(lang);
---

<section class="approach py-16 lg:py-24 bg-white" id="approach">
  <div class="container-bf">

    <div class="approach__grid">

      <!-- Left: Title -->
      <div class="approach__title-wrap">
        <h2 class="approach__title animate-on-scroll">
          {t('approach.title')}
        </h2>
      </div>

      <!-- Right: Description (aligned bottom) -->
      <div class="approach__desc-wrap">
        <p class="approach__desc animate-on-scroll">
          {t('approach.description')}
        </p>
      </div>

    </div>

  </div>
</section>

<style>
  .approach__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media (min-width: 1024px) {
    .approach__grid {
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
    }
  }

  .approach__title {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 500;
    line-height: 1.3;
    color: var(--color-black, #000);
  }

  .approach__desc-wrap {
    padding-top: 200px;
  }

  .approach__desc {
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.6;
    color: var(--color-gray, #8C8C8C);
    max-width: 500px;
  }

  @media (min-width: 1024px) {
    .approach__desc {
      font-size: 1.125rem;
    }
  }

  /* Scroll animations */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .animate-on-scroll.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const approachObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('.approach .animate-on-scroll').forEach(el => {
    approachObserver.observe(el);
  });
</script>
